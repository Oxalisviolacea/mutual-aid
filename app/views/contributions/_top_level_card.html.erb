<section class="section">
  <strong>Contribution:</strong>
  <br>
  <span class="title is-1">
    <span class="<%= @contribution.icon_class %>"></span> <%= @contribution&.type %>: <%= @contribution&.all_tags_to_s %>
  </span>
    <%#= edit(@contribution) %><!-- # TODO - add update action back in once we have moved controllers-->
  </div>
  <div class="created_at">Created on <%= shorthand_display(@contribution.created_at) %></div>
  <div class="box">
    <% if current_user.admin_role? || current_user.sys_admin_role? %>
      <div class="contact-info block">
        <strong>Created by:</strong>
        <%= show_button(person, person&.name, "fa fa-user-circle", "title is-5", nil, contribution_id: @contribution.id) %>
        <br>
        <strong>Preferred contact info:</strong>
        <span class="<%= person.preferred_contact_method.icon_class %>"></span>
        <span class="subtitle is-5"><%= person.preferred_contact_info %></span>
      </div>
    <% else %>
      <div class="block">
        <strong><%= @contribution.person.anonymized_name_and_email %></strong>
      </div>
    <% end %>
    <div class="block"><p class="subtitle"><%= @contribution.description %></p></div>
    <div class="field is-grouped">
      <p class="control">
        <% if @contribution.matched? %>
          <i class="far fa-check-circle has-text-primary is-size-5 has-text-weight-semibold"><span class="ml-1">Claimed</span></i>
        <% else %>
          <%= button_to "Claim This #{@contribution.type}", new_contribution_claim_path(@contribution), class: "button is-primary", method: :get %>
        <% end %>
      </p>
      <p class="control"> <%= triage_button(@contribution) %> </p>
      <%= render "tentative_match", contribution: @contribution %>
    </div>
  </div>
</section>
